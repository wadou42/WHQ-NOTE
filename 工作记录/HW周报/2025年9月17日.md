1. 最近工作：
- [x] 数据集收集
	在原有的软件上收集——mysql、cbench、rocksdb、faiss。最终的数据集是现在的数据集 + 之前的数据集（直接忽略之前数据集中“无关选项”）[TODO] 是否有补充？
	
- [x] 模型调整（解决模型在鲲鹏服务器上推理太慢问题）
	从encoder+decoder -> encoder+ classification head；并行推理，保证占满 cpu 1000 s/batch -> 90 s/batch，其中每个batch是一个项目（多个函数）在一个优化配置下的性能预测。
	
	新模型和之前采用同样的输入，优化选项+代码，做二分类任务，其precision略低于之前的模型，recall略高于之前的模型。[TODO] 我们的模型更关注高precision，需要再调整一下。
	
- [x] 搜索空间
	预测空间（模型预测的选项）:   150 个左右的01优化选项（	所有01选项剔除 `-O0` 、剔除 影响很小的优化选项）
	
	搜索空间：上述150个选项**或**上述150个选项的基础上再剔除 -O1 **/** -O2；  **+**   非 01 优化选项； 目的是进一步的缩小搜索的空间。尝试不同的搜索空间，选择最合适的一个。

- [ ] [DOING] 实验
	**实验1**  **利用之前的预测结果**为起点进行search， 搜索空间为上述150个优化选项 剔除 `-O1` +  非01优化选项。 结果： 最优均在3%附近。 并且所有的结果波动都较小，大概在0.95-1.03之间波动。
		![[Pasted image 20250917152524.png]]
	
	**实验2**  [TODO] 新模型的结果再预测新起点，在不同的搜索空间下搜索
	**实验3** 固定-O3，只对非01选项进行搜索。 收益大概在1-2%， 其中scann对parma最敏感。
	![[Pasted image 20250919095327.png]]

- [x] 工程上：
	- [x] 行号提取工具从LLVM迁移到了GCC
	- [x] 整理了一个demo
	
2. 问题与挑战：
	- [ ] 现在使用的搜索空间是否限制了调优？非01选项是否有效？
		- [ ] **实验2** 
		- [ ] **实验3**
	- [ ] 模型的推理速度
		- [ ] 将一些python包更改为专为arm架构设计的


3. 下一步打算：
- [x] 数据集推荐
	- [ ] hw那边推荐了mysql(sysbench,)、redis（redis-benchmark） 、rocksdb，但是都收集过了。
- [ ] 搜索的时候加预测（需要考虑，毕竟预测的速度并不快，精确度也并不是非常高）
- [ ] 调整模型，我们的模型更关注高precision，需要再调整一下。
- [ ] 尝试不同搜索空间、搜索方法、搜索参数
	- [ ] 使用**新模型**预测新起点，在不同的搜索空间下搜索，找到最佳搜索空间。实验一使用的是之前的预测起点，之前预测的**包含-O0** 的一些选项 可能不准确。
	- [ ] 固定-O3，只对非01选项进行搜索。验证非01选项的有效性，主要验证上次会议华为提供的一些专家知识是否有用。
- [ ] 论文